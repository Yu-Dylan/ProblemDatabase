Let $\{a_1,a_2,\ldots,a_n\}$ and $\{b_1,b_2,\ldots,b_n\}$ be distinct sets of positive integers. Assume that any integer $m$ can be written as $a_i+a_j$ with $1\leq i<j\leq n$ in exactly as many ways as it can be written as $b_i+b_j$ with $1\leq i<j\leq n$. Show that $n$ is a power of $2$.