Let $P\left(n\right)$ be the number of permutations of $\left\{1,2,\ldots,n\right\}$$ for which $ka_k$ is a perfect square for all $1\leq k\leq n$. Find with proof the smallest $n$ such that $P\left(n\right)$ is a multiple of $2010$.