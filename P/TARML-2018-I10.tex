Compute the number of polynomials $P(x)$ satisfying the following properties:
\begin{itemize}
    \item All coefficients of $P$ are integers with magnitude less than $2017^3$.
    \item $2018$ is a root of $P$.
    \item For all real numbers $a$ and $b$ such that $ab=1$,
    \[
    	P(a+b)=P(a)+P(b).
	\]
\end{itemize}